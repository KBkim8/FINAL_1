<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="main">
	<select id="getCaptain" resultType="com.hp.app.admin.vo.AdminVo">
		SELECT * FROM ADMIN
		WHERE GRADE = 'D' AND NAME = #{name}
	</select>

	<select id="getCaptainLoveCnt" resultType="int">
		SELECT COUNT(*) FROM
		CAPTAIN_LOVE
		WHERE LOVE = 'L' AND CAPTAIN_NO = #{no}
	</select>

	<select id="getCaptainHateCnt" resultType="int">
		SELECT COUNT(*) FROM
		CAPTAIN_LOVE
		WHERE LOVE = 'H' AND CAPTAIN_NO = #{no}
	</select>

	<update id="voteCaptainLove" parameterType="java.util.List">
		UPDATE CAPTAIN_LOVE
		SET LOVE = #{list[0]}
		WHERE MEMBER_NO = #{list[1]} AND CAPTAIN_NO = #{list[2]}
	</update>
</mapper>