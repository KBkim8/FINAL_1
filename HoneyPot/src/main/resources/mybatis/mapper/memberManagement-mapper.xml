<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberManagement">

	<!-- 일반 회원 전체 갯수 -->
	<select id="getMemberListCnt" resultType="com.hp.app.member.vo.MemberVo">
		SELECT STATUS
		FROM MEMBER
		<where>
			<if test="searchType == 'NAME' and searchValue != '' and searchValue != null">
				AND NAME LIKE '%${searchValue}%'
			</if>
			<if test="searchType == 'DONG' and searchValue != '' and searchValue != null">
				AND DONG_NUM LIKE '%${searchValue}%'
			</if>
			<if test="searchType == 'HO' and searchValue != '' and searchValue != null">
				AND HO_NUM LIKE '%${searchValue}%'
			</if>
			<if test="searchType == 'PHONE' and searchValue != '' and searchValue != null">
				AND PHONE LIKE '%${searchValue}%'
			</if>
		</where>
	</select>

	<!-- 일반 회원 조회 -->
	<select id="getMemberList" resultType="com.hp.app.member.vo.MemberVo">
		SELECT *
		FROM MEMBER
		<where>
			<if test="searchType == 'NAME' and searchValue != '' and searchValue != null">
				AND NAME LIKE '%${searchValue}%'
			</if>
			<if test="searchType == 'DONG' and searchValue != '' and searchValue != null">
				AND DONG_NUM LIKE '%${searchValue}%'
			</if>
			<if test="searchType == 'HO' and searchValue != '' and searchValue != null">
				AND HO_NUM LIKE '%${searchValue}%'
			</if>
			<if test="searchType == 'PHONE' and searchValue != '' and searchValue != null">
				AND PHONE LIKE '%${searchValue}%'
			</if>
			<if test='status == "N"'>
				AND STATUS = #{status}
			</if>
		</where>
	</select>
	
	<!-- 회원 상세조회 -->
	<select id="getMemberByNo" resultType="com.hp.app.member.vo.MemberVo">
		SELECT *
		FROM MEMBER
		WHERE NO = #{mno}
	</select>
	

  
</mapper>